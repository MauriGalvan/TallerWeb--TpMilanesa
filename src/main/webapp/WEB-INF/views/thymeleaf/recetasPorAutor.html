<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Recetas de [[${autor}]]</title>
    <!-- Boostrap core css -->
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>
    <!--  font-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" th:href="@{/css/recetasAutor.css}">
</head>
<body>
<nav >
    <div class="logo">
        <a href="http://localhost:8080/spring/inicio">
            <img src="https://i.postimg.cc/WzB31sKN/milanesa-logo.png" width="200px" alt="logo">
        </a>
    </div>
    <section class="botones">
        <button type="button" class="recetas">
            <a href="http://localhost:8080/spring/vista-receta" class="link-receta"> <i class="fa-solid fa-utensils"></i>Recetas</a>
        </button>

        <button type="button" class="planificador">
            <a href="http://localhost:8080/spring/login" class="link-receta" ><i class="fas fa-calendar-alt"></i>Planificá tu menu</a>
        </button>

        <!--    <div th:if="${usuarioNombre != null ? usuarioNombre : 'Usuario'}">-->

        <div th:if="${usuarioNombre != null}" class="usuario-conectado">
            <div class="usermenu">
                <div class="dropdown">
                    <button id="dropdownUser" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="https://cdn.pixabay.com/photo/2017/11/10/05/48/user-2935527_1280.png" alt="usuario" class="user-avatar">
                        <span th:text="${usuarioNombre}">Usuario</span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownUser">
                        <li onclick="mostrarPopup()"><a href="#" class="dropdown-item"><i class="fas fa-user"></i> Perfil</a></li>
                        <li onclick="mostrarPopup()"><a href="#" class="dropdown-item"><i class="fa-solid fa-gear"></i>Ajustes</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a href="http://localhost:8080/spring/login" class="dropdown-item"><i class="fa-solid fa-arrow-right-from-bracket"></i> Salir</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div th:if="${usuarioNombre == null}" class="usuario">
            <button type="button" class="Iniciar Sesion">
                <a href="http://localhost:8080/spring/login" ><i class="fa-solid fa-right-to-bracket"></i>Iniciar sesión</a>
            </button>
            <button type="button" class="Registrarme">
                <a href="http://localhost:8080/spring/nuevo-usuario">  <i class="fa-solid fa-user-plus"></i>Registrate</a>
            </button>
        </div>
    </section>
</nav>
<main>
    <h2 th:text="'Recetas de ' + ${autor}">Recetas del autor</h2>

        <div class="recetas-container">
            <div th:each="receta : ${recetas}" class="receta-card">
                <a th:href="@{/detalleReceta(id=${receta.id})}">
                    <img th:src="${receta.imagen}" alt="Imagen de receta" />
                    <h3 th:text="${receta.titulo}">Título de la receta</h3>
                    <div class="tiempo">
                        <i class="fa-solid fa-clock"></i>
                        <span th:text="${receta.tiempo_preparacion.getTiempo()}">Tiempo de preparación</span>
                    </div>
                </a>
            </div>
        </div>

</main>
<script type="text/javascript" th:src="@{webjars/bootstrap/5.2.0/js/bootstrap.min.js}"></script>
</body>
</html>
